{
    "version": 3,
    "terraform_version": "0.11.3",
    "serial": 34,
    "lineage": "a2d6e9a2-d6ce-4a5c-a861-3882c2f5161d",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_ecs_task_definition.app": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "local.name",
                        "local.region"
                    ],
                    "primary": {
                        "id": "atltest",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-east-1:661072482170:task-definition/atltest:2",
                            "container_definitions": "[{\"cpu\":100,\"environment\":[],\"essential\":true,\"image\":\"nginx:1.12-alpine\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"atltest-nginx\",\"awslogs-region\":\"us-east-1\"}},\"memory\":128,\"mountPoints\":[],\"name\":\"nginx\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":0,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]",
                            "cpu": "",
                            "execution_role_arn": "",
                            "family": "atltest",
                            "id": "atltest",
                            "memory": "",
                            "network_mode": "",
                            "placement_constraints.#": "0",
                            "requires_compatibilities.#": "0",
                            "revision": "2",
                            "task_role_arn": ""
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "alb"
            ],
            "outputs": {
                "target_group_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:us-east-1:661072482170:targetgroup/atltest-tg/86ccf67d61a92a2f"
                }
            },
            "resources": {
                "aws_route53_record.hostname": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "data.aws_route53_zone.domain",
                        "module.alb"
                    ],
                    "primary": {
                        "id": "Z3M4K0PRTZ1ERS_atltest.aipapps.com._A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.964043175.evaluate_target_health": "true",
                            "alias.964043175.name": "atltest-1661910260.us-east-1.elb.amazonaws.com",
                            "alias.964043175.zone_id": "Z35SXDOTRQ7X7K",
                            "allow_overwrite": "true",
                            "fqdn": "atltest.aipapps.com",
                            "health_check_id": "",
                            "id": "Z3M4K0PRTZ1ERS_atltest.aipapps.com._A",
                            "name": "atltest.aipapps.com",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "Z3M4K0PRTZ1ERS"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group_rule.instance_in_alb": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "module.alb_sg_https"
                    ],
                    "primary": {
                        "id": "sgrule-3370465738",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "description": "",
                            "from_port": "32768",
                            "id": "sgrule-3370465738",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "tcp",
                            "security_group_id": "sg-897edcff",
                            "self": "false",
                            "source_security_group_id": "sg-ed53f19b",
                            "to_port": "61000",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_route53_zone.domain": {
                    "type": "aws_route53_zone",
                    "depends_on": [],
                    "primary": {
                        "id": "Z3M4K0PRTZ1ERS",
                        "attributes": {
                            "caller_reference": "70EFB2D0-7647-B668-BB5E-77DAA3511535",
                            "comment": "",
                            "id": "Z3M4K0PRTZ1ERS",
                            "name": "aipapps.com.",
                            "private_zone": "true",
                            "resource_record_set_count": "14",
                            "zone_id": "Z3M4K0PRTZ1ERS"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "ecs_cluster"
            ],
            "outputs": {
                "cluster_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:ecs:us-east-1:661072482170:cluster/atltest"
                },
                "instance_role": {
                    "sensitive": false,
                    "type": "string",
                    "value": "atltest-instance-role"
                },
                "instance_sg_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-897edcff"
                }
            },
            "resources": {
                "aws_autoscaling_group.asg": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_launch_configuration.instance"
                    ],
                    "primary": {
                        "id": "atltest-asg",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:us-east-1:661072482170:autoScalingGroup:0104fd4c-c74e-490b-81d6-cce8a1f62481:autoScalingGroupName/atltest-asg",
                            "availability_zones.#": "3",
                            "availability_zones.1305112097": "us-east-1b",
                            "availability_zones.3569565595": "us-east-1a",
                            "availability_zones.986537655": "us-east-1c",
                            "default_cooldown": "300",
                            "desired_capacity": "1",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "EC2",
                            "id": "atltest-asg",
                            "launch_configuration": "atltest-lc20180308205453226200000001",
                            "load_balancers.#": "0",
                            "max_size": "2",
                            "metrics_granularity": "1Minute",
                            "min_size": "1",
                            "name": "atltest-asg",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "suspended_processes.#": "0",
                            "tag.#": "0",
                            "target_group_arns.#": "0",
                            "termination_policies.#": "0",
                            "vpc_zone_identifier.#": "3",
                            "vpc_zone_identifier.159042091": "subnet-4a3f1917",
                            "vpc_zone_identifier.2134909180": "subnet-faa54fb0",
                            "vpc_zone_identifier.507737398": "subnet-9a404cfe",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "delete": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudwatch_log_group.instance": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "atltest-instance",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:661072482170:log-group:atltest-instance:*",
                            "id": "atltest-instance",
                            "kms_key_id": "",
                            "name": "atltest-instance",
                            "retention_in_days": "0",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest",
                            "tags.Owner": "user"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_cluster.ecs": {
                    "type": "aws_ecs_cluster",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:ecs:us-east-1:661072482170:cluster/atltest",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-east-1:661072482170:cluster/atltest",
                            "id": "arn:aws:ecs:us-east-1:661072482170:cluster/atltest",
                            "name": "atltest"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_instance_profile.instance": {
                    "type": "aws_iam_instance_profile",
                    "depends_on": [
                        "aws_iam_role.instance"
                    ],
                    "primary": {
                        "id": "atltest-instance-profile",
                        "attributes": {
                            "arn": "arn:aws:iam::661072482170:instance-profile/atltest-instance-profile",
                            "id": "atltest-instance-profile",
                            "name": "atltest-instance-profile",
                            "path": "/",
                            "role": "atltest-instance-role",
                            "roles.#": "1",
                            "roles.17003489": "atltest-instance-role",
                            "unique_id": "AIPAIAZGV24JCOPKQBACQ"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_policy.instance_policy": {
                    "type": "aws_iam_policy",
                    "depends_on": [
                        "data.aws_iam_policy_document.instance_policy"
                    ],
                    "primary": {
                        "id": "arn:aws:iam::661072482170:policy/atltest-ecs-instance",
                        "attributes": {
                            "arn": "arn:aws:iam::661072482170:policy/atltest-ecs-instance",
                            "id": "arn:aws:iam::661072482170:policy/atltest-ecs-instance",
                            "name": "atltest-ecs-instance",
                            "path": "/",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"CloudwatchPutMetricData\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"cloudwatch:PutMetricData\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"InstanceLogging\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:DescribeLogStreams\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"arn:aws:logs:us-east-1:661072482170:log-group:atltest-instance:*\"\n    }\n  ]\n}"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.instance": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "atltest-instance-role",
                        "attributes": {
                            "arn": "arn:aws:iam::661072482170:role/atltest-instance-role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2018-03-07T21:23:32Z",
                            "force_detach_policies": "false",
                            "id": "atltest-instance-role",
                            "name": "atltest-instance-role",
                            "path": "/",
                            "unique_id": "AROAJIYW2MMY37Y4XL7GU"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy_attachment.ecs_policy": {
                    "type": "aws_iam_role_policy_attachment",
                    "depends_on": [
                        "aws_iam_role.instance"
                    ],
                    "primary": {
                        "id": "atltest-instance-role-20180307212336775400000001",
                        "attributes": {
                            "id": "atltest-instance-role-20180307212336775400000001",
                            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonEC2ContainerServiceforEC2Role",
                            "role": "atltest-instance-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy_attachment.instance_policy": {
                    "type": "aws_iam_role_policy_attachment",
                    "depends_on": [
                        "aws_iam_policy.instance_policy",
                        "aws_iam_role.instance"
                    ],
                    "primary": {
                        "id": "atltest-instance-role-20180307212342750600000002",
                        "attributes": {
                            "id": "atltest-instance-role-20180307212342750600000002",
                            "policy_arn": "arn:aws:iam::661072482170:policy/atltest-ecs-instance",
                            "role": "atltest-instance-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_key_pair.user": {
                    "type": "aws_key_pair",
                    "depends_on": [],
                    "primary": {
                        "id": "atltest",
                        "attributes": {
                            "fingerprint": "a7:c3:41:e5:06:4e:16:15:2e:9c:7c:e4:1d:a1:b9:0b",
                            "id": "atltest",
                            "key_name": "atltest",
                            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDRF1u78unOZf5Qc4XskVjP0m8pCZJACMBU2G5uadWWKK/ZnJIua2krmy3MoKDbTN68r30uvr1KA2oYH0V+f6s+E+MUi+RY7nT1lfaaEevZ2HNEVNIP9231j8KfAcYuzjaKR/pDcLV7zL9Z7/ch5Oy4bee4NDnHn9dEo4nUEx5QMwSoPFaSpkvUGE6xYBqf0BwDC124tqBVl3FJW4yCTOF17AXL9MQ1tsxVwXfRLY3pYDfSPw6zhTzriohvlsntE1sUdB+ZLxkxGz2IToiP8SLKmAKDY4Uk3OmzR+7ewTfbQBF3RHhGF7jWz9PCt0s1WHqOd6A9f2yY8/A/gEfkSiyJ rimbeea@adduscl723085"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_launch_configuration.instance": {
                    "type": "aws_launch_configuration",
                    "depends_on": [],
                    "primary": {
                        "id": "atltest-lc20180308205453226200000001",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "enable_monitoring": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "atltest-instance-profile",
                            "id": "atltest-lc20180308205453226200000001",
                            "image_id": "ami-cad827b7",
                            "instance_type": "t2.micro",
                            "key_name": "atltest",
                            "name": "atltest-lc20180308205453226200000001",
                            "name_prefix": "atltest-lc",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "50",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "1",
                            "security_groups.102729187": "sg-897edcff",
                            "spot_price": "",
                            "user_data": "8ab07b5c97fed9b4248aa8137ead795533cda98b",
                            "vpc_classic_link_id": "",
                            "vpc_classic_link_security_groups.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.instance": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-897edcff",
                        "attributes": {
                            "description": "Security Group managed by Terraform",
                            "egress.#": "1",
                            "egress.1403647648.cidr_blocks.#": "1",
                            "egress.1403647648.cidr_blocks.0": "0.0.0.0/0",
                            "egress.1403647648.description": "",
                            "egress.1403647648.from_port": "0",
                            "egress.1403647648.ipv6_cidr_blocks.#": "0",
                            "egress.1403647648.prefix_list_ids.#": "0",
                            "egress.1403647648.protocol": "tcp",
                            "egress.1403647648.security_groups.#": "0",
                            "egress.1403647648.self": "false",
                            "egress.1403647648.to_port": "65535",
                            "id": "sg-897edcff",
                            "ingress.#": "1",
                            "ingress.2389104951.cidr_blocks.#": "0",
                            "ingress.2389104951.description": "",
                            "ingress.2389104951.from_port": "32768",
                            "ingress.2389104951.ipv6_cidr_blocks.#": "0",
                            "ingress.2389104951.protocol": "tcp",
                            "ingress.2389104951.security_groups.#": "1",
                            "ingress.2389104951.security_groups.2413479732": "sg-ed53f19b",
                            "ingress.2389104951.self": "false",
                            "ingress.2389104951.to_port": "61000",
                            "name": "atltest-container-instance",
                            "owner_id": "661072482170",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-container-instance",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group_rule.instance_out_all": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.instance"
                    ],
                    "primary": {
                        "id": "sgrule-1381590256",
                        "attributes": {
                            "cidr_blocks.#": "1",
                            "cidr_blocks.0": "0.0.0.0/0",
                            "description": "",
                            "from_port": "0",
                            "id": "sgrule-1381590256",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "tcp",
                            "security_group_id": "sg-897edcff",
                            "self": "false",
                            "to_port": "65535",
                            "type": "egress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_ami.ecs": {
                    "type": "aws_ami",
                    "depends_on": [],
                    "primary": {
                        "id": "ami-cad827b7",
                        "attributes": {
                            "architecture": "x86_64",
                            "block_device_mappings.#": "2",
                            "block_device_mappings.2538004115.device_name": "/dev/xvdcz",
                            "block_device_mappings.2538004115.ebs.%": "5",
                            "block_device_mappings.2538004115.ebs.delete_on_termination": "true",
                            "block_device_mappings.2538004115.ebs.encrypted": "false",
                            "block_device_mappings.2538004115.ebs.iops": "0",
                            "block_device_mappings.2538004115.ebs.volume_size": "22",
                            "block_device_mappings.2538004115.ebs.volume_type": "gp2",
                            "block_device_mappings.2538004115.no_device": "",
                            "block_device_mappings.2538004115.virtual_name": "",
                            "block_device_mappings.340275815.device_name": "/dev/xvda",
                            "block_device_mappings.340275815.ebs.%": "6",
                            "block_device_mappings.340275815.ebs.delete_on_termination": "true",
                            "block_device_mappings.340275815.ebs.encrypted": "false",
                            "block_device_mappings.340275815.ebs.iops": "0",
                            "block_device_mappings.340275815.ebs.snapshot_id": "snap-0eed17b9b279b179b",
                            "block_device_mappings.340275815.ebs.volume_size": "8",
                            "block_device_mappings.340275815.ebs.volume_type": "gp2",
                            "block_device_mappings.340275815.no_device": "",
                            "block_device_mappings.340275815.virtual_name": "",
                            "creation_date": "2018-03-07T01:24:34.000Z",
                            "description": "Amazon Linux AMI 2017.09.j x86_64 ECS HVM GP2",
                            "filter.#": "2",
                            "filter.3350713981.name": "name",
                            "filter.3350713981.values.#": "1",
                            "filter.3350713981.values.0": "amzn-ami-*-amazon-ecs-optimized",
                            "filter.490168357.name": "virtualization-type",
                            "filter.490168357.values.#": "1",
                            "filter.490168357.values.0": "hvm",
                            "hypervisor": "xen",
                            "id": "ami-cad827b7",
                            "image_id": "ami-cad827b7",
                            "image_location": "amazon/amzn-ami-2017.09.j-amazon-ecs-optimized",
                            "image_owner_alias": "amazon",
                            "image_type": "machine",
                            "most_recent": "true",
                            "name": "amzn-ami-2017.09.j-amazon-ecs-optimized",
                            "owner_id": "591542846629",
                            "owners.#": "1",
                            "owners.0": "amazon",
                            "product_codes.#": "0",
                            "public": "true",
                            "root_device_name": "/dev/xvda",
                            "root_device_type": "ebs",
                            "root_snapshot_id": "snap-0eed17b9b279b179b",
                            "sriov_net_support": "simple",
                            "state": "available",
                            "state_reason.%": "2",
                            "state_reason.code": "UNSET",
                            "state_reason.message": "UNSET",
                            "tags.%": "0",
                            "virtualization_type": "hvm"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.instance_policy": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [
                        "aws_cloudwatch_log_group.instance"
                    ],
                    "primary": {
                        "id": "3387636609",
                        "attributes": {
                            "id": "3387636609",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"CloudwatchPutMetricData\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"cloudwatch:PutMetricData\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"InstanceLogging\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:DescribeLogStreams\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"arn:aws:logs:us-east-1:661072482170:log-group:atltest-instance:*\"\n    }\n  ]\n}",
                            "statement.#": "2",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.1809533934": "cloudwatch:PutMetricData",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "0",
                            "statement.0.resources.#": "1",
                            "statement.0.resources.2679715827": "*",
                            "statement.0.sid": "CloudwatchPutMetricData",
                            "statement.1.actions.#": "4",
                            "statement.1.actions.2809485102": "logs:CreateLogGroup",
                            "statement.1.actions.3285979848": "logs:CreateLogStream",
                            "statement.1.actions.3697566380": "logs:DescribeLogStreams",
                            "statement.1.actions.39743051": "logs:PutLogEvents",
                            "statement.1.condition.#": "0",
                            "statement.1.effect": "Allow",
                            "statement.1.not_actions.#": "0",
                            "statement.1.not_principals.#": "0",
                            "statement.1.not_resources.#": "0",
                            "statement.1.principals.#": "0",
                            "statement.1.resources.#": "1",
                            "statement.1.resources.594986674": "arn:aws:logs:us-east-1:661072482170:log-group:atltest-instance:*",
                            "statement.1.sid": "InstanceLogging"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.template_file.user_data": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_cloudwatch_log_group.instance",
                        "aws_ecs_cluster.ecs"
                    ],
                    "primary": {
                        "id": "834a4b45ee48ff4c68ee2e798efbbaa3b59024dfc58faea1432f6217bfc56e9e",
                        "attributes": {
                            "id": "834a4b45ee48ff4c68ee2e798efbbaa3b59024dfc58faea1432f6217bfc56e9e",
                            "rendered": "#!/bin/bash\nset -x\n\n# Config ECS agent\necho \"ECS_CLUSTER=atltest\" \u003e /etc/ecs/ecs.config\n\n# Stream instance logs to CloudWatch Logs\ngrep '/var/log/cfn-hup.log' /etc/awslogs/awslogs.conf\nif [ $? -ne 0 ]; then\n\n    INSTANCE_ID=$(curl -s http://169.254.169.254/latest/meta-data/instance-id)\n    LOG_GROUP=\"atltest-instance\"\n    REGION=$(curl -s http://169.254.169.254/latest/dynamic/instance-identity/document | grep '\\\"region\\\"' | cut -d\\\" -f4)\n\n    # install the awslogs package\n    yum install -y aws-cli awslogs\n\n    # update awscli.conf with regions where logs to be sent\n    grep 'region = ' /etc/awslogs/awscli.conf\n    if [ $? -ne 0 ]; then\n        echo \"region = ${REGION}\" \u003e\u003e /etc/awslogs/awscli.conf\n    else\n        sed -i \"s/region = .*/region = ${REGION}/g\" /etc/awslogs/awscli.conf\n    fi\n    sed -i '/^\\[\\/var\\/log\\/messages\\]/,+6 s/^/#/' /etc/awslogs/awslogs.conf\n\n    # include app log file section in the awslogs.conf\n    logfiles=(\"/var/log/cfn-hup.log\" \"/var/log/cfn-init.log\" \"/var/log/cfn-init-cmd.log\" \"/var/log/cloud-init.log\" \"/var/log/cloud-init-output.log\" \"/var/log/docker-events.log\" \"/var/log/docker\"  \"/var/log/healthd/daemon.log\" \"/var/log/cron\" \"/var/log/messages\" \"/var/log/yum.log\")\n    for logfile in \"${logfiles[@]}\";\n    do\n        echo -e \"\\n[${logfile}]\\\n        \\nfile = ${logfile}\\\n        \\nlog_group_name = ${LOG_GROUP}\\\n        \\nlog_stream_name = ${INSTANCE_ID}_${logfile}\\\n        \\ninitial_position = start_of_file\\\n        \\ndatetime_format = %b %d %H:%M:%S\\\n        \\nbuffer_duration = 5000\" \u003e\u003e /etc/awslogs/awslogs.conf\n    done\n\n    # Handle rotated files - filename with wildcard\n    echo -e \"\\n[/var/log/ecs/ecs-init.log]\\\n    \\nfile = /var/log/ecs/ecs-init.log.*\\\n    \\nlog_group_name = ${LOG_GROUP}\\\n    \\nlog_stream_name = ${INSTANCE_ID}_/var/log/ecs/ecs-init.log\\\n    \\ninitial_position = start_of_file\\\n    \\ndatetime_format = %b %d %H:%M:%S\\\n    \\nbuffer_duration = 5000\" \u003e\u003e /etc/awslogs/awslogs.conf\n\n    echo -e \"\\n[/var/log/ecs/ecs-agent.log]\\\n    \\nfile = /var/log/ecs/ecs-agent.log.*\\\n    \\nlog_group_name = ${LOG_GROUP}\\\n    \\nlog_stream_name = ${INSTANCE_ID}_/var/log/ecs/ecs-agent.log\\\n    \\ninitial_position = start_of_file\\\n    \\ndatetime_format = %b %d %H:%M:%S\\\n    \\nbuffer_duration = 5000\" \u003e\u003e /etc/awslogs/awslogs.conf\n\n    # restart awslogs service\n    service awslogs restart\n    # enable awslogs service to start on system boot\n    chkconfig awslogs on\nfi\n\n# Reclaim unused Docker disk space\ncat \u003c\u003c \"EOF\" \u003e /usr/local/bin/claimspace.sh\n#!/bin/bash\n# Run fstrim on the host OS periodically to reclaim the unused container data blocks\ndocker ps -q | xargs docker inspect --format='{{ .State.Pid }}' | xargs -IZ sudo fstrim /proc/Z/root/\nexit $?\nEOF\n\nchmod +x /usr/local/bin/claimspace.sh\necho \"0 0 * * * root /usr/local/bin/claimspace.sh\" \u003e /etc/cron.d/claimspace\n\n# Additional user data\n\n",
                            "template": "#!/bin/bash\nset -x\n\n# Config ECS agent\necho \"ECS_CLUSTER=${ecs_cluster}\" \u003e /etc/ecs/ecs.config\n\n# Stream instance logs to CloudWatch Logs\ngrep '/var/log/cfn-hup.log' /etc/awslogs/awslogs.conf\nif [ $? -ne 0 ]; then\n\n    INSTANCE_ID=$(curl -s http://169.254.169.254/latest/meta-data/instance-id)\n    LOG_GROUP=\"${log_group}\"\n    REGION=$(curl -s http://169.254.169.254/latest/dynamic/instance-identity/document | grep '\\\"region\\\"' | cut -d\\\" -f4)\n\n    # install the awslogs package\n    yum install -y aws-cli awslogs\n\n    # update awscli.conf with regions where logs to be sent\n    grep 'region = ' /etc/awslogs/awscli.conf\n    if [ $? -ne 0 ]; then\n        echo \"region = $${REGION}\" \u003e\u003e /etc/awslogs/awscli.conf\n    else\n        sed -i \"s/region = .*/region = $${REGION}/g\" /etc/awslogs/awscli.conf\n    fi\n    sed -i '/^\\[\\/var\\/log\\/messages\\]/,+6 s/^/#/' /etc/awslogs/awslogs.conf\n\n    # include app log file section in the awslogs.conf\n    logfiles=(\"/var/log/cfn-hup.log\" \"/var/log/cfn-init.log\" \"/var/log/cfn-init-cmd.log\" \"/var/log/cloud-init.log\" \"/var/log/cloud-init-output.log\" \"/var/log/docker-events.log\" \"/var/log/docker\"  \"/var/log/healthd/daemon.log\" \"/var/log/cron\" \"/var/log/messages\" \"/var/log/yum.log\")\n    for logfile in \"$${logfiles[@]}\";\n    do\n        echo -e \"\\n[$${logfile}]\\\n        \\nfile = $${logfile}\\\n        \\nlog_group_name = $${LOG_GROUP}\\\n        \\nlog_stream_name = $${INSTANCE_ID}_$${logfile}\\\n        \\ninitial_position = start_of_file\\\n        \\ndatetime_format = %b %d %H:%M:%S\\\n        \\nbuffer_duration = 5000\" \u003e\u003e /etc/awslogs/awslogs.conf\n    done\n\n    # Handle rotated files - filename with wildcard\n    echo -e \"\\n[/var/log/ecs/ecs-init.log]\\\n    \\nfile = /var/log/ecs/ecs-init.log.*\\\n    \\nlog_group_name = $${LOG_GROUP}\\\n    \\nlog_stream_name = $${INSTANCE_ID}_/var/log/ecs/ecs-init.log\\\n    \\ninitial_position = start_of_file\\\n    \\ndatetime_format = %b %d %H:%M:%S\\\n    \\nbuffer_duration = 5000\" \u003e\u003e /etc/awslogs/awslogs.conf\n\n    echo -e \"\\n[/var/log/ecs/ecs-agent.log]\\\n    \\nfile = /var/log/ecs/ecs-agent.log.*\\\n    \\nlog_group_name = $${LOG_GROUP}\\\n    \\nlog_stream_name = $${INSTANCE_ID}_/var/log/ecs/ecs-agent.log\\\n    \\ninitial_position = start_of_file\\\n    \\ndatetime_format = %b %d %H:%M:%S\\\n    \\nbuffer_duration = 5000\" \u003e\u003e /etc/awslogs/awslogs.conf\n\n    # restart awslogs service\n    service awslogs restart\n    # enable awslogs service to start on system boot\n    chkconfig awslogs on\nfi\n\n# Reclaim unused Docker disk space\ncat \u003c\u003c \"EOF\" \u003e /usr/local/bin/claimspace.sh\n#!/bin/bash\n# Run fstrim on the host OS periodically to reclaim the unused container data blocks\ndocker ps -q | xargs docker inspect --format='{{ .State.Pid }}' | xargs -IZ sudo fstrim /proc/Z/root/\nexit $?\nEOF\n\nchmod +x /usr/local/bin/claimspace.sh\necho \"0 0 * * * root /usr/local/bin/claimspace.sh\" \u003e /etc/cron.d/claimspace\n\n# Additional user data\n${additional_user_data_script}\n",
                            "vars.%": "3",
                            "vars.additional_user_data_script": "",
                            "vars.ecs_cluster": "atltest",
                            "vars.log_group": "atltest-instance"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "ecs_service_app"
            ],
            "outputs": {},
            "resources": {
                "aws_cloudwatch_log_group.svc": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "atltest-nginx",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:661072482170:log-group:atltest-nginx:*",
                            "id": "atltest-nginx",
                            "kms_key_id": "",
                            "name": "atltest-nginx",
                            "retention_in_days": "0",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest",
                            "tags.Owner": "user"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ecs_service.svc": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_iam_role.svc"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-east-1:661072482170:service/atltest",
                        "attributes": {
                            "cluster": "arn:aws:ecs:us-east-1:661072482170:cluster/atltest",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "health_check_grace_period_seconds": "0",
                            "iam_role": "arn:aws:iam::661072482170:role/atltest-ecs-role",
                            "id": "arn:aws:ecs:us-east-1:661072482170:service/atltest",
                            "launch_type": "EC2",
                            "load_balancer.#": "1",
                            "load_balancer.2697020178.container_name": "nginx",
                            "load_balancer.2697020178.container_port": "80",
                            "load_balancer.2697020178.elb_name": "",
                            "load_balancer.2697020178.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:661072482170:targetgroup/atltest-tg/86ccf67d61a92a2f",
                            "name": "atltest",
                            "network_configuration.#": "0",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "arn:aws:ecs:us-east-1:661072482170:task-definition/atltest:2"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.svc": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "atltest-ecs-role",
                        "attributes": {
                            "arn": "arn:aws:iam::661072482170:role/atltest-ecs-role",
                            "assume_role_policy": "{\"Version\":\"2008-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2018-03-07T23:04:06Z",
                            "force_detach_policies": "false",
                            "id": "atltest-ecs-role",
                            "name": "atltest-ecs-role",
                            "path": "/",
                            "unique_id": "AROAJ7BCVQGU4AQ5XE4JU"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy_attachment.svc": {
                    "type": "aws_iam_role_policy_attachment",
                    "depends_on": [
                        "aws_iam_role.svc"
                    ],
                    "primary": {
                        "id": "atltest-ecs-role-20180307230411978600000002",
                        "attributes": {
                            "id": "atltest-ecs-role-20180307230411978600000002",
                            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonEC2ContainerServiceRole",
                            "role": "atltest-ecs-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc"
            ],
            "outputs": {
                "database_subnet_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "database_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "database_subnets_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "default_network_acl_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "acl-6dbdb816"
                },
                "default_route_table_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "rtb-c9ec32b5"
                },
                "default_security_group_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-4f47e539"
                },
                "default_vpc_cidr_block": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_default_network_acl_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_default_route_table_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_default_security_group_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_enable_dns_hostnames": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_enable_dns_support": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_instance_tenancy": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_main_route_table_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "elasticache_subnet_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "elasticache_subnet_group_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "elasticache_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "elasticache_subnets_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "igw_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "igw-8b975ff3"
                },
                "nat_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "eipalloc-6471826d"
                    ]
                },
                "nat_public_ips": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "54.85.111.221"
                    ]
                },
                "natgw_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "nat-07788cdfadd121ff0"
                    ]
                },
                "private_route_table_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "rtb-d5f32da9",
                        "rtb-a5f927d9",
                        "rtb-39ec3245"
                    ]
                },
                "private_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "subnet-faa54fb0",
                        "subnet-4a3f1917",
                        "subnet-9a404cfe"
                    ]
                },
                "private_subnets_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "10.10.10.0/27",
                        "10.10.10.32/27",
                        "10.10.10.64/27"
                    ]
                },
                "public_route_table_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "rtb-9eef31e2"
                    ]
                },
                "public_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "subnet-eaa248a0",
                        "subnet-8c0127d1",
                        "subnet-c8434fac"
                    ]
                },
                "public_subnets_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "10.10.10.96/27",
                        "10.10.10.128/27",
                        "10.10.10.160/27"
                    ]
                },
                "redshift_subnet_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "redshift_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "redshift_subnets_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "vgw_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "vpc_cidr_block": {
                    "sensitive": false,
                    "type": "string",
                    "value": "10.10.10.0/24"
                },
                "vpc_enable_dns_hostnames": {
                    "sensitive": false,
                    "type": "string",
                    "value": "false"
                },
                "vpc_enable_dns_support": {
                    "sensitive": false,
                    "type": "string",
                    "value": "true"
                },
                "vpc_endpoint_dynamodb_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "vpc_endpoint_dynamodb_pl_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "vpc_endpoint_s3_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "vpc_endpoint_s3_pl_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "vpc_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "vpc-1976de62"
                },
                "vpc_instance_tenancy": {
                    "sensitive": false,
                    "type": "string",
                    "value": "default"
                },
                "vpc_main_route_table_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "rtb-c9ec32b5"
                }
            },
            "resources": {
                "aws_default_route_table.this": {
                    "type": "aws_default_route_table",
                    "depends_on": [
                        "aws_vpc.this"
                    ],
                    "primary": {
                        "id": "rtb-c9ec32b5",
                        "attributes": {
                            "default_route_table_id": "rtb-c9ec32b5",
                            "id": "rtb-c9ec32b5",
                            "propagating_vgws.#": "0",
                            "route.#": "0",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-default",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_eip.nat": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-6471826d",
                        "attributes": {
                            "association_id": "eipassoc-9d628a47",
                            "domain": "vpc",
                            "id": "eipalloc-6471826d",
                            "instance": "",
                            "network_interface": "eni-c50712dc",
                            "private_ip": "10.10.10.111",
                            "public_ip": "54.85.111.221",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-us-east-1a",
                            "tags.Owner": "user",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_internet_gateway.this": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.this"
                    ],
                    "primary": {
                        "id": "igw-8b975ff3",
                        "attributes": {
                            "id": "igw-8b975ff3",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_main_route_table_association.this": {
                    "type": "aws_main_route_table_association",
                    "depends_on": [
                        "aws_default_route_table.this",
                        "aws_vpc.this"
                    ],
                    "primary": {
                        "id": "rtbassoc-e5fdc499",
                        "attributes": {
                            "id": "rtbassoc-e5fdc499",
                            "original_route_table_id": "rtb-c9ec32b5",
                            "route_table_id": "rtb-c9ec32b5",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_nat_gateway.this": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_internet_gateway.this",
                        "aws_subnet.public.*",
                        "local.nat_gateway_ips"
                    ],
                    "primary": {
                        "id": "nat-07788cdfadd121ff0",
                        "attributes": {
                            "allocation_id": "eipalloc-6471826d",
                            "id": "nat-07788cdfadd121ff0",
                            "network_interface_id": "eni-c50712dc",
                            "private_ip": "10.10.10.111",
                            "public_ip": "54.85.111.221",
                            "subnet_id": "subnet-eaa248a0",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-us-east-1a",
                            "tags.Owner": "user"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route.private_nat_gateway.0": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_nat_gateway.this.*",
                        "aws_route_table.private.*"
                    ],
                    "primary": {
                        "id": "r-rtb-d5f32da91080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-d5f32da91080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-07788cdfadd121ff0",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-d5f32da9",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route.private_nat_gateway.1": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_nat_gateway.this.*",
                        "aws_route_table.private.*"
                    ],
                    "primary": {
                        "id": "r-rtb-a5f927d91080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-a5f927d91080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-07788cdfadd121ff0",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-a5f927d9",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route.private_nat_gateway.2": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_nat_gateway.this.*",
                        "aws_route_table.private.*"
                    ],
                    "primary": {
                        "id": "r-rtb-39ec32451080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-39ec32451080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-07788cdfadd121ff0",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-39ec3245",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route.public_internet_gateway": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_internet_gateway.this",
                        "aws_route_table.public"
                    ],
                    "primary": {
                        "id": "r-rtb-9eef31e21080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "igw-8b975ff3",
                            "id": "r-rtb-9eef31e21080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-9eef31e2",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table.private.0": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.this",
                        "local.max_subnet_length"
                    ],
                    "primary": {
                        "id": "rtb-d5f32da9",
                        "attributes": {
                            "id": "rtb-d5f32da9",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.371305958.cidr_block": "0.0.0.0/0",
                            "route.371305958.egress_only_gateway_id": "",
                            "route.371305958.gateway_id": "",
                            "route.371305958.instance_id": "",
                            "route.371305958.ipv6_cidr_block": "",
                            "route.371305958.nat_gateway_id": "nat-07788cdfadd121ff0",
                            "route.371305958.network_interface_id": "",
                            "route.371305958.vpc_peering_connection_id": "",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-private-us-east-1a",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table.private.1": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.this",
                        "local.max_subnet_length"
                    ],
                    "primary": {
                        "id": "rtb-a5f927d9",
                        "attributes": {
                            "id": "rtb-a5f927d9",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.371305958.cidr_block": "0.0.0.0/0",
                            "route.371305958.egress_only_gateway_id": "",
                            "route.371305958.gateway_id": "",
                            "route.371305958.instance_id": "",
                            "route.371305958.ipv6_cidr_block": "",
                            "route.371305958.nat_gateway_id": "nat-07788cdfadd121ff0",
                            "route.371305958.network_interface_id": "",
                            "route.371305958.vpc_peering_connection_id": "",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-private-us-east-1b",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table.private.2": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.this",
                        "local.max_subnet_length"
                    ],
                    "primary": {
                        "id": "rtb-39ec3245",
                        "attributes": {
                            "id": "rtb-39ec3245",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.371305958.cidr_block": "0.0.0.0/0",
                            "route.371305958.egress_only_gateway_id": "",
                            "route.371305958.gateway_id": "",
                            "route.371305958.instance_id": "",
                            "route.371305958.ipv6_cidr_block": "",
                            "route.371305958.nat_gateway_id": "nat-07788cdfadd121ff0",
                            "route.371305958.network_interface_id": "",
                            "route.371305958.vpc_peering_connection_id": "",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-private-us-east-1c",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table.public": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.this"
                    ],
                    "primary": {
                        "id": "rtb-9eef31e2",
                        "attributes": {
                            "id": "rtb-9eef31e2",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.3394036982.cidr_block": "0.0.0.0/0",
                            "route.3394036982.egress_only_gateway_id": "",
                            "route.3394036982.gateway_id": "igw-8b975ff3",
                            "route.3394036982.instance_id": "",
                            "route.3394036982.ipv6_cidr_block": "",
                            "route.3394036982.nat_gateway_id": "",
                            "route.3394036982.network_interface_id": "",
                            "route.3394036982.vpc_peering_connection_id": "",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-public",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.private.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private.*",
                        "aws_subnet.private.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-7afac306",
                        "attributes": {
                            "id": "rtbassoc-7afac306",
                            "route_table_id": "rtb-d5f32da9",
                            "subnet_id": "subnet-faa54fb0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.private.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private.*",
                        "aws_subnet.private.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-ee043d92",
                        "attributes": {
                            "id": "rtbassoc-ee043d92",
                            "route_table_id": "rtb-a5f927d9",
                            "subnet_id": "subnet-4a3f1917"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.private.2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private.*",
                        "aws_subnet.private.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-02f8c17e",
                        "attributes": {
                            "id": "rtbassoc-02f8c17e",
                            "route_table_id": "rtb-39ec3245",
                            "subnet_id": "subnet-9a404cfe"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.public.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-7e0e3702",
                        "attributes": {
                            "id": "rtbassoc-7e0e3702",
                            "route_table_id": "rtb-9eef31e2",
                            "subnet_id": "subnet-eaa248a0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.public.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-f10f368d",
                        "attributes": {
                            "id": "rtbassoc-f10f368d",
                            "route_table_id": "rtb-9eef31e2",
                            "subnet_id": "subnet-8c0127d1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.public.2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-cbfcc5b7",
                        "attributes": {
                            "id": "rtbassoc-cbfcc5b7",
                            "route_table_id": "rtb-9eef31e2",
                            "subnet_id": "subnet-c8434fac"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.private.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.this"
                    ],
                    "primary": {
                        "id": "subnet-faa54fb0",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1a",
                            "cidr_block": "10.10.10.0/27",
                            "id": "subnet-faa54fb0",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-private-us-east-1a",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.private.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.this"
                    ],
                    "primary": {
                        "id": "subnet-4a3f1917",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1b",
                            "cidr_block": "10.10.10.32/27",
                            "id": "subnet-4a3f1917",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-private-us-east-1b",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.private.2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.this"
                    ],
                    "primary": {
                        "id": "subnet-9a404cfe",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1c",
                            "cidr_block": "10.10.10.64/27",
                            "id": "subnet-9a404cfe",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-private-us-east-1c",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.public.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.this"
                    ],
                    "primary": {
                        "id": "subnet-eaa248a0",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1a",
                            "cidr_block": "10.10.10.96/27",
                            "id": "subnet-eaa248a0",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-public-us-east-1a",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.public.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.this"
                    ],
                    "primary": {
                        "id": "subnet-8c0127d1",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1b",
                            "cidr_block": "10.10.10.128/27",
                            "id": "subnet-8c0127d1",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-public-us-east-1b",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.public.2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.this"
                    ],
                    "primary": {
                        "id": "subnet-c8434fac",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1c",
                            "cidr_block": "10.10.10.160/27",
                            "id": "subnet-c8434fac",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-public-us-east-1c",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_vpc.this": {
                    "type": "aws_vpc",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-1976de62",
                        "attributes": {
                            "assign_generated_ipv6_cidr_block": "false",
                            "cidr_block": "10.10.10.0/24",
                            "default_network_acl_id": "acl-6dbdb816",
                            "default_route_table_id": "rtb-c9ec32b5",
                            "default_security_group_id": "sg-4f47e539",
                            "dhcp_options_id": "dopt-8ddf2de8",
                            "enable_classiclink": "false",
                            "enable_classiclink_dns_support": "false",
                            "enable_dns_hostnames": "false",
                            "enable_dns_support": "true",
                            "id": "vpc-1976de62",
                            "instance_tenancy": "default",
                            "main_route_table_id": "rtb-c9ec32b5",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest",
                            "tags.Owner": "user"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "alb",
                "alb"
            ],
            "outputs": {
                "alb_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:us-east-1:661072482170:loadbalancer/app/atltest/18b386e2aa711d34"
                },
                "alb_arn_suffix": {
                    "sensitive": false,
                    "type": "string",
                    "value": "app/atltest/18b386e2aa711d34"
                },
                "alb_dns_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "atltest-1661910260.us-east-1.elb.amazonaws.com"
                },
                "alb_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:us-east-1:661072482170:loadbalancer/app/atltest/18b386e2aa711d34"
                },
                "alb_listener_http_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "alb_listener_http_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "alb_listener_https_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:us-east-1:661072482170:listener/app/atltest/18b386e2aa711d34/faa274ad4aff1cbc"
                },
                "alb_listener_https_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:us-east-1:661072482170:listener/app/atltest/18b386e2aa711d34/faa274ad4aff1cbc"
                },
                "alb_zone_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "Z35SXDOTRQ7X7K"
                },
                "principal_account_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "127311923021"
                },
                "target_group_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:us-east-1:661072482170:targetgroup/atltest-tg/86ccf67d61a92a2f"
                }
            },
            "resources": {
                "aws_alb.main": {
                    "type": "aws_alb",
                    "depends_on": [
                        "aws_s3_bucket.log_bucket"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:661072482170:loadbalancer/app/atltest/18b386e2aa711d34",
                        "attributes": {
                            "access_logs.#": "1",
                            "access_logs.0.bucket": "atltest-logs",
                            "access_logs.0.enabled": "true",
                            "access_logs.0.prefix": "alb",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:661072482170:loadbalancer/app/atltest/18b386e2aa711d34",
                            "arn_suffix": "app/atltest/18b386e2aa711d34",
                            "dns_name": "atltest-1661910260.us-east-1.elb.amazonaws.com",
                            "enable_deletion_protection": "false",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:661072482170:loadbalancer/app/atltest/18b386e2aa711d34",
                            "idle_timeout": "60",
                            "internal": "false",
                            "ip_address_type": "ipv4",
                            "load_balancer_type": "application",
                            "name": "atltest",
                            "security_groups.#": "1",
                            "security_groups.2413479732": "sg-ed53f19b",
                            "subnets.#": "3",
                            "subnets.2342632853": "subnet-c8434fac",
                            "subnets.249604982": "subnet-eaa248a0",
                            "subnets.4083753464": "subnet-8c0127d1",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62",
                            "zone_id": "Z35SXDOTRQ7X7K"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_alb_listener.frontend_https": {
                    "type": "aws_alb_listener",
                    "depends_on": [
                        "aws_alb.main",
                        "aws_alb_target_group.target_group"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:661072482170:listener/app/atltest/18b386e2aa711d34/faa274ad4aff1cbc",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:661072482170:listener/app/atltest/18b386e2aa711d34/faa274ad4aff1cbc",
                            "certificate_arn": "arn:aws:acm:us-east-1:661072482170:certificate/1d9309fe-8df5-41f2-a542-c62fee875359",
                            "default_action.#": "1",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:661072482170:targetgroup/atltest-tg/86ccf67d61a92a2f",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:661072482170:listener/app/atltest/18b386e2aa711d34/faa274ad4aff1cbc",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:661072482170:loadbalancer/app/atltest/18b386e2aa711d34",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2016-08"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_alb_target_group.target_group": {
                    "type": "aws_alb_target_group",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:661072482170:targetgroup/atltest-tg/86ccf67d61a92a2f",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:661072482170:targetgroup/atltest-tg/86ccf67d61a92a2f",
                            "arn_suffix": "targetgroup/atltest-tg/86ccf67d61a92a2f",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "3",
                            "health_check.0.interval": "10",
                            "health_check.0.matcher": "200-299",
                            "health_check.0.path": "/",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "3",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:661072482170:targetgroup/atltest-tg/86ccf67d61a92a2f",
                            "name": "atltest-tg",
                            "port": "80",
                            "protocol": "HTTP",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "1",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-tg",
                            "tags.Owner": "user",
                            "target_type": "instance",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket.log_bucket": {
                    "type": "aws_s3_bucket",
                    "depends_on": [
                        "data.aws_iam_policy_document.bucket_policy"
                    ],
                    "primary": {
                        "id": "atltest-logs",
                        "attributes": {
                            "acceleration_status": "",
                            "acl": "private",
                            "arn": "arn:aws:s3:::atltest-logs",
                            "bucket": "atltest-logs",
                            "bucket_domain_name": "atltest-logs.s3.amazonaws.com",
                            "force_destroy": "true",
                            "hosted_zone_id": "Z3AQBSTGFYJSTF",
                            "id": "atltest-logs",
                            "logging.#": "0",
                            "policy": "{\"Statement\":[{\"Action\":\"s3:PutObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::127311923021:root\"},\"Resource\":\"arn:aws:s3:::atltest-logs/alb/AWSLogs/661072482170/*\",\"Sid\":\"AllowToPutLoadBalancerLogsToS3Bucket\"}],\"Version\":\"2012-10-17\"}",
                            "region": "us-east-1",
                            "replication_configuration.#": "0",
                            "request_payer": "BucketOwner",
                            "server_side_encryption_configuration.#": "0",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-logs",
                            "tags.Owner": "user",
                            "versioning.#": "1",
                            "versioning.0.enabled": "false",
                            "versioning.0.mfa_delete": "false",
                            "website.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_caller_identity.current": {
                    "type": "aws_caller_identity",
                    "depends_on": [],
                    "primary": {
                        "id": "2018-03-08 20:59:17.833336921 +0000 UTC",
                        "attributes": {
                            "account_id": "661072482170",
                            "arn": "arn:aws:iam::661072482170:user/rimbea",
                            "id": "2018-03-08 20:59:17.833336921 +0000 UTC",
                            "user_id": "AIDAJWDH7SRXIVATJABRC"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_elb_service_account.main": {
                    "type": "aws_elb_service_account",
                    "depends_on": [],
                    "primary": {
                        "id": "127311923021",
                        "attributes": {
                            "arn": "arn:aws:iam::127311923021:root",
                            "id": "127311923021"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.bucket_policy": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [
                        "data.aws_caller_identity.current",
                        "data.aws_elb_service_account.main"
                    ],
                    "primary": {
                        "id": "2583093569",
                        "attributes": {
                            "id": "2583093569",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowToPutLoadBalancerLogsToS3Bucket\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:PutObject\",\n      \"Resource\": \"arn:aws:s3:::atltest-logs/alb/AWSLogs/661072482170/*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::127311923021:root\"\n      }\n    }\n  ]\n}",
                            "statement.#": "1",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.315547055": "s3:PutObject",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "1",
                            "statement.0.principals.1001788533.identifiers.#": "1",
                            "statement.0.principals.1001788533.identifiers.1294614456": "arn:aws:iam::127311923021:root",
                            "statement.0.principals.1001788533.type": "AWS",
                            "statement.0.resources.#": "1",
                            "statement.0.resources.2970427863": "arn:aws:s3:::atltest-logs/alb/AWSLogs/661072482170/*",
                            "statement.0.sid": "AllowToPutLoadBalancerLogsToS3Bucket"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "alb",
                "alb_sg_https"
            ],
            "outputs": {
                "this_security_group_description": {
                    "sensitive": false,
                    "type": "string",
                    "value": "Security Group managed by Terraform"
                },
                "this_security_group_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-ed53f19b"
                },
                "this_security_group_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "atltest-alb"
                },
                "this_security_group_owner_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "661072482170"
                },
                "this_security_group_vpc_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "vpc-1976de62"
                }
            },
            "resources": {
                "aws_security_group.this": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-ed53f19b",
                        "attributes": {
                            "description": "Security Group managed by Terraform",
                            "egress.#": "1",
                            "egress.3019453888.cidr_blocks.#": "1",
                            "egress.3019453888.cidr_blocks.0": "0.0.0.0/0",
                            "egress.3019453888.description": "Egress Rule",
                            "egress.3019453888.from_port": "0",
                            "egress.3019453888.ipv6_cidr_blocks.#": "0",
                            "egress.3019453888.prefix_list_ids.#": "0",
                            "egress.3019453888.protocol": "tcp",
                            "egress.3019453888.security_groups.#": "0",
                            "egress.3019453888.self": "false",
                            "egress.3019453888.to_port": "65535",
                            "id": "sg-ed53f19b",
                            "ingress.#": "1",
                            "ingress.2041754213.cidr_blocks.#": "1",
                            "ingress.2041754213.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2041754213.description": "Ingress Rule",
                            "ingress.2041754213.from_port": "443",
                            "ingress.2041754213.ipv6_cidr_blocks.#": "0",
                            "ingress.2041754213.protocol": "tcp",
                            "ingress.2041754213.security_groups.#": "0",
                            "ingress.2041754213.self": "false",
                            "ingress.2041754213.to_port": "443",
                            "name": "atltest-alb",
                            "owner_id": "661072482170",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "3",
                            "tags.Environment": "dev",
                            "tags.Name": "atltest-alb",
                            "tags.Owner": "user",
                            "vpc_id": "vpc-1976de62"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group_rule.egress_with_cidr_blocks": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.this"
                    ],
                    "primary": {
                        "id": "sgrule-4194942787",
                        "attributes": {
                            "cidr_blocks.#": "1",
                            "cidr_blocks.0": "0.0.0.0/0",
                            "description": "Egress Rule",
                            "from_port": "0",
                            "id": "sgrule-4194942787",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "tcp",
                            "security_group_id": "sg-ed53f19b",
                            "self": "false",
                            "to_port": "65535",
                            "type": "egress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group_rule.ingress_with_cidr_blocks": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.this"
                    ],
                    "primary": {
                        "id": "sgrule-2650549662",
                        "attributes": {
                            "cidr_blocks.#": "1",
                            "cidr_blocks.0": "0.0.0.0/0",
                            "description": "Ingress Rule",
                            "from_port": "443",
                            "id": "sgrule-2650549662",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "tcp",
                            "security_group_id": "sg-ed53f19b",
                            "self": "false",
                            "to_port": "443",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        }
    ]
}
